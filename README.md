# Knowledge Graph Visualization with Neo4j

This repository contains scripts to export your knowledge graph data from the memory MCP and visualize it using Neo4j.

## Prerequisites

- Docker installed and running
- For bash script: jq (JSON processor) installed
- For Python script: Python 3.6+ installed
- Basic knowledge of Cypher (Neo4j's query language)

## Getting Started

### Using Bash Script

1. Make sure the script is executable:
   ```bash
   chmod +x export_and_setup_neo4j.sh
   ```

2. Run the script:
   ```bash
   ./export_and_setup_neo4j.sh
   ```

3. For enhanced visualization capabilities, include the Graph Data Science Library:
   ```bash
   ./export_and_setup_neo4j.sh --with-gds
   ```

### Using Python Script (Alternative)

1. Make sure the script is executable:
   ```bash
   chmod +x export_and_setup_neo4j.py
   ```

2. Run the script:
   ```bash
   ./export_and_setup_neo4j.py
   ```

3. For enhanced visualization capabilities, include the Graph Data Science Library:
   ```bash
   ./export_and_setup_neo4j.py --with-gds
   ```

3. The script will:
   - Export the JSON data from your memory MCP file
   - Convert the data to Neo4j Cypher commands
   - Start a Neo4j Docker container
   - Import the data into Neo4j

4. Once complete, access the Neo4j browser at http://localhost:7474/
   - Username: neo4j
   - Password: password

## Using Neo4j for Knowledge Graph Visualization

### Basic Cypher Queries

1. View all entities:
   ```cypher
   MATCH (n:Entity) RETURN n LIMIT 25
   ```

2. View all relations:
   ```cypher
   MATCH (n)-[r]->(m) RETURN n, r, m LIMIT 25
   ```

3. Find entities by type:
   ```cypher
   MATCH (n:Entity) WHERE n.entityType = 'ContentSection' RETURN n
   ```

4. Find relations by type:
   ```cypher
   MATCH (n)-[r]->(m) WHERE type(r) = 'contains' RETURN n, r, m
   ```

5. Find paths between two entities:
   ```cypher
   MATCH path = shortestPath((a:Entity {name: "IT Knowledge Base"})-[*]-(b:Entity {name: "Bolt Cluster Architecture"}))
   RETURN path
   ```

### Visualization Tips

1. **Change the visualization style**:
   - Click on the gear icon in the visualization panel
   - Experiment with different layouts (Force, Grid, Circular)
   - Adjust node sizes, colors, and captions based on properties

2. **Create a custom visualization**:
   - Use the "Add Rule" button to create styling rules
   - For example, color nodes by entityType or size nodes by number of relations

3. **Save your visualizations**:
   - Use the "Save as project" feature to save your visualization settings
   - This allows you to quickly return to your preferred view

## Visualization Plugins and Extensions

For a comprehensive guide to Neo4j visualization plugins and extensions, see the included `neo4j_visualization_plugins.md` document. This guide covers:

- Neo4j Browser extensions and Graph Apps
- JavaScript libraries with Neo4j integration
- Using the Graph Data Science Library for enhanced visualizations
- Setting up advanced visualizations with NeoDash
- Example visualization queries

### Alternative Open-Source Visualization Tools

If Neo4j doesn't meet your needs, consider these other open-source options:

1. **Gephi**: Powerful network analysis and visualization software
2. **Cytoscape**: Open-source software for visualizing complex networks
3. **D3.js**: JavaScript library for creating custom interactive visualizations
4. **Graphviz**: Open source graph visualization software
5. **Sigma.js**: JavaScript library dedicated to graph drawing
6. **Vis.js Network**: Dynamic, browser-based visualization library

See `neo4j_visualization_plugins.md` for more details on these alternatives.

## Troubleshooting

- **Neo4j container fails to start**: Check Docker logs with `docker logs neo4j-kg`
- **Import fails**: Verify the JSON format and check for special characters in entity names
- **Browser can't connect**: Ensure ports 7474 and 7687 are not in use by other applications
- **JSON parsing errors**: The scripts are designed to handle both standard JSON and JSONL (line-delimited JSON) formats. If you encounter JSON parsing errors, check the format of your source file and ensure it's properly formatted.

## Customizing the Import

If you need to modify how the data is imported:

1. Edit the `import_to_neo4j.cypher` file generated by the script
2. Restart the import process or run the Cypher commands manually in the Neo4j browser
