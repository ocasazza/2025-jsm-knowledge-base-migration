<ac:layout>
 <ac:layout-section ac:type="single">
  <ac:layout-cell>
   <p>
    <ac:placeholder>
     Add labels to this report to make it easy to find outages that relate to the service or the sites that were affected. That will help us find and report on relevant related issues.
    </ac:placeholder>
   </p>
   <ac:structured-macro ac:macro-id="6041cfab-a8b7-40c8-aa32-0229b207b0df" ac:name="excerpt" ac:schema-version="1">
    <ac:parameter ac:name="atlassian-macro-output-type">
     INLINE
    </ac:parameter>
    <ac:rich-text-body>
     <p>
      SIR for mail to/from Jira on
      <time datetime="2022-09-13">
      </time>
      <span style="color: rgb(0,82,204);">
       <br/>
      </span>
     </p>
    </ac:rich-text-body>
   </ac:structured-macro>
   <p class="auto-cursor-target">
    <br/>
   </p>
  </ac:layout-cell>
 </ac:layout-section>
 <ac:layout-section ac:type="two_equal">
  <ac:layout-cell>
   <p class="auto-cursor-target">
    <br/>
   </p>
   <ac:structured-macro ac:macro-id="b2a57857-7f56-44d2-a0d4-91b3d7ebfcbf" ac:name="toc-zone" ac:schema-version="1">
    <ac:rich-text-body>
     <p>
      <ac:structured-macro ac:macro-id="58b18781-a929-4005-a5e0-2ef23adca3fe" ac:name="toc" ac:schema-version="1">
      </ac:structured-macro>
     </p>
    </ac:rich-text-body>
   </ac:structured-macro>
   <p class="auto-cursor-target">
    <br/>
   </p>
  </ac:layout-cell>
  <ac:layout-cell>
   <p class="auto-cursor-target">
    <br/>
   </p>
   <ac:structured-macro ac:macro-id="0db3d9b8-3a8d-4ad4-ae26-0a4ea4bc95c2" ac:name="details" ac:schema-version="1">
    <ac:parameter ac:name="id">
     SIR-metadata
    </ac:parameter>
    <ac:rich-text-body>
     <p class="auto-cursor-target">
      <br/>
     </p>
     <table class="wrapped" style="letter-spacing: 0.0px;">
      <colgroup>
       <col/>
       <col/>
      </colgroup>
      <tbody>
       <tr>
        <th colspan="1">
         System/Service
        </th>
        <td colspan="1">
         <div class="content-wrapper">
          <p>
           <ac:link>
            <ri:page ri:content-title="Jira Server" ri:space-key="SYSMGR">
            </ri:page>
           </ac:link>
          </p>
         </div>
        </td>
       </tr>
       <tr>
        <th>
         Ticket(s)
        </th>
        <td>
         <div class="content-wrapper">
          <p>
           <ac:structured-macro ac:macro-id="4df593d8-36e3-4a0e-a2f2-67a8a6f81036" ac:name="jira" ac:schema-version="1">
            <ac:parameter ac:name="server">
             System JIRA
            </ac:parameter>
            <ac:parameter ac:name="serverId">
             ac6def98-2140-30c3-8103-4b52b8b31135
            </ac:parameter>
            <ac:parameter ac:name="key">
             ITDW-616
            </ac:parameter>
           </ac:structured-macro>
          </p>
         </div>
        </td>
       </tr>
       <tr>
        <th colspan="1">
         Outage scope
        </th>
        <td colspan="1">
         <ac:placeholder>
          If the outage was limited to a site(s) please link to the confluence location page(s)
         </ac:placeholder>
        </td>
       </tr>
       <tr>
        <th>
         Outage date
        </th>
        <td>
         <div class="content-wrapper">
          <p>
           <time datetime="2022-09-13">
           </time>
          </p>
         </div>
        </td>
       </tr>
       <tr>
        <th>
         Report date
        </th>
        <td>
         <div class="content-wrapper">
          <p>
           <time datetime="2023-01-10">
           </time>
          </p>
         </div>
        </td>
       </tr>
       <tr>
        <th colspan="1">
         Report filed by
        </th>
        <td colspan="1">
         <ac:link>
          <ri:user ri:userkey="557058:07ac0593-24aa-4f1a-9f61-f6ed48eb34e3">
          </ri:user>
         </ac:link>
        </td>
       </tr>
       <tr>
        <th colspan="1">
         Report reviewed date
        </th>
        <td colspan="1">
         <ac:placeholder>
          Use // for date macro for the date the report was reviewed with the team or relevant stakeholders
         </ac:placeholder>
        </td>
       </tr>
       <tr>
        <th colspan="1">
         Reviewed by
        </th>
        <td colspan="1">
         <ac:placeholder>
          List of people who had a part in reviewing or commenting on the report
         </ac:placeholder>
        </td>
       </tr>
      </tbody>
     </table>
     <p class="auto-cursor-target">
      <br/>
     </p>
    </ac:rich-text-body>
   </ac:structured-macro>
   <p class="auto-cursor-target">
    <br/>
   </p>
  </ac:layout-cell>
 </ac:layout-section>
 <ac:layout-section ac:type="single">
  <ac:layout-cell>
   <h2>
    Executive summary
   </h2>
   <hr/>
   <p>
    This SIR was filed several months after the incident due to
    <ac:link>
     <ri:user ri:userkey="557058:07ac0593-24aa-4f1a-9f61-f6ed48eb34e3">
     </ri:user>
    </ac:link>
    being on leave.
   </p>
   <p>
    <ac:link>
     <ri:user ri:userkey="712020:7bdf65bb-2c08-404d-b19e-5a4b111550b4">
     </ri:user>
    </ac:link>
    <span style="letter-spacing: 0.0px;">
     reported for t
    </span>
    <span style="letter-spacing: 0.0px;">
     he Orders team that jira had not had an issue populate since 5:05pm the previous night despite there being automated Order submissions and payments that had been sent/received after then, as well as issues sent to Jira from email directly.  This issue was around the same time as/and related to a problem with the NYC ISP (
     <ac:structured-macro ac:macro-id="ecbdcd88-5da0-435b-9375-171846bbf385" ac:name="jira" ac:schema-version="1">
      <ac:parameter ac:name="server">
       System JIRA
      </ac:parameter>
      <ac:parameter ac:name="serverId">
       ac6def98-2140-30c3-8103-4b52b8b31135
      </ac:parameter>
      <ac:parameter ac:name="key">
       ITINFRA-578
      </ac:parameter>
     </ac:structured-macro>
    </span>
    )
    <span style="letter-spacing: 0.0px;">
     .
     <span>
      Setting up a new tunnel via PDX enabled the communication temporarily, and eventually the NYC ISP issue was resolved.
     </span>
    </span>
   </p>
   <p>
    <br/>
   </p>
   <h2>
    <span>
     Background
    </span>
   </h2>
   <hr/>
   <p>
    Tickets are created in Jira via email for the Orders team.  The Orders team knows which types of events outside Jira should be generating emails to create Jira tickets, so they can also know when the expected tickets don't appear in Jira.
   </p>
   <h2>
    Incident Description
   </h2>
   <hr/>
   <p>
    <ac:link>
     <ri:user ri:userkey="712020:7bdf65bb-2c08-404d-b19e-5a4b111550b4">
     </ri:user>
    </ac:link>
    <span>
     reported for t
    </span>
    <span>
     he Orders team that jira had not had an issue populate since 5:05pm the previous night despite there being automated Order submissions and payments that had been sent/received after then, as well as issues sent to Jira from email directly.  This issue was around the same time as/and related to a problem with the NYC ISP (
     <ac:structured-macro ac:macro-id="ca2ca392-55b5-4c29-a57c-343218667bc4" ac:name="jira" ac:schema-version="1">
      <ac:parameter ac:name="server">
       System JIRA
      </ac:parameter>
      <ac:parameter ac:name="serverId">
       ac6def98-2140-30c3-8103-4b52b8b31135
      </ac:parameter>
      <ac:parameter ac:name="key">
       ITINFRA-578
      </ac:parameter>
     </ac:structured-macro>
    </span>
    )
    <span>
     .  During the initial investigation it was not clear what the relationship between the two might be, but later with
     <ac:link>
      <ri:user ri:userkey="557058:c19c6239-8657-4845-b158-eec62442daf4">
      </ri:user>
     </ac:link>
     's help it became clear.
    </span>
    <span style="letter-spacing: 0.0px;">
     Setting up a new tunnel via PDX enabled the communication temporarily, and eventually the NYC ISP issue was resolved.
    </span>
   </p>
   <h3>
    Chronology
   </h3>
   <p>
    Given this is many months since this incident, tried to reconstruct the chronology based on the IT - SOS chat thread from 9/13/2022:
    <a href="https://mail.google.com/chat/u/0/#chat/space/AAAA8ByU85A/fh27XfASgVY">
     https://mail.google.com/chat/u/0/#chat/space/AAAA8ByU85A/fh27XfASgVY
    </a>
    and from the ticket.
   </p>
   <p>
    Eastern time
   </p>
   <p>
    <span style="color: rgb(23,43,77);">
     13/Sep/22 1:51 AM -
     <ac:structured-macro ac:macro-id="5b6eb379-47ad-46bb-b4c3-4790131ba77a" ac:name="jira" ac:schema-version="1">
      <ac:parameter ac:name="server">
       System JIRA
      </ac:parameter>
      <ac:parameter ac:name="serverId">
       ac6def98-2140-30c3-8103-4b52b8b31135
      </ac:parameter>
      <ac:parameter ac:name="key">
       APPTEAM-5001
      </ac:parameter>
     </ac:structured-macro>
     created, but for a different original underlying issue.  Discussion of the issues related to this SIR happened during the later course of that ticket.
    </span>
   </p>
   <p>
    <span style="color: rgb(23,43,77);">
     13/Sep/22 12:07 PM -
    </span>
    <ac:structured-macro ac:macro-id="1977864f-8aea-4cfc-b1d7-f6579203ac93" ac:name="jira" ac:schema-version="1">
     <ac:parameter ac:name="server">
      System JIRA
     </ac:parameter>
     <ac:parameter ac:name="serverId">
      ac6def98-2140-30c3-8103-4b52b8b31135
     </ac:parameter>
     <ac:parameter ac:name="key">
      ITDW-616
     </ac:parameter>
    </ac:structured-macro>
    <span style="letter-spacing: 0.0px;">
     created for the issue in this SIR
    </span>
   </p>
   <p>
    <span style="letter-spacing: 0.0px;">
     <span style="color: rgb(95,99,104);">
      13/Sep/22 2:31 PM - IT - SOS chat thread started
      <a href="https://mail.google.com/chat/u/0/#chat/space/AAAA8ByU85A/fh27XfASgVY">
       https://mail.google.com/chat/u/0/#chat/space/AAAA8ByU85A/fh27XfASgVY
      </a>
     </span>
    </span>
   </p>
   <p>
    <span style="letter-spacing: 0.0px;">
     <span style="color: rgb(95,99,104);">
      <span class="FvYVyf">
       13/Sep/22 4:17 PM -
       <ac:link>
        <ri:user ri:userkey="557058:c19c6239-8657-4845-b158-eec62442daf4">
        </ri:user>
       </ac:link>
       brings up GCP to PDX tunnel, allowing mail to flow to/from Jira
      </span>
     </span>
    </span>
   </p>
   <h3>
    Corrective Action
   </h3>
   <p>
    GCP to PDX tunnel brought up to allow gcp-jira-lv01 in GCP to communicate with mailgw in PDX.
   </p>
   <p>
    <ac:link>
     <ri:user ri:userkey="557058:c19c6239-8657-4845-b158-eec62442daf4">
     </ri:user>
    </ac:link>
    <span style="letter-spacing: 0.0px;">
     could you please comment more in depth here?
    </span>
   </p>
   <h3>
    Analysis
   </h3>
   <p>
    <span>
     After several hours of investigation by
    </span>
    <ac:link>
     <ri:user ri:userkey="557058:07ac0593-24aa-4f1a-9f61-f6ed48eb34e3">
     </ri:user>
    </ac:link>
    <span>
     ,
    </span>
    <ac:link>
     <ri:user ri:userkey="557058:fcfe3a6e-6cb0-47b0-b70c-ec4fff08d245">
     </ri:user>
    </ac:link>
    <span>
     ,
    </span>
    <ac:link>
     <ri:user ri:userkey="557058:c19c6239-8657-4845-b158-eec62442daf4">
     </ri:user>
    </ac:link>
    <span>
     (and
    </span>
    <ac:link>
     <ri:user ri:userkey="557058:1a893d8b-5534-49d4-b2d5-cf1542039b54">
     </ri:user>
    </ac:link>
    <span>
     in
    </span>
    <ac:structured-macro ac:macro-id="43585bf0-3f44-4e58-a251-b54f406944a9" ac:name="jira" ac:schema-version="1">
     <ac:parameter ac:name="server">
      System JIRA
     </ac:parameter>
     <ac:parameter ac:name="serverId">
      ac6def98-2140-30c3-8103-4b52b8b31135
     </ac:parameter>
     <ac:parameter ac:name="key">
      APPTEAM-5001
     </ac:parameter>
    </ac:structured-macro>
    <span>
     ),
    </span>
    <ac:link>
     <ri:user ri:userkey="557058:c19c6239-8657-4845-b158-eec62442daf4">
     </ri:user>
    </ac:link>
    <span>
     found this was a general issue with email to/from Jira because with the NYC ISP down, the tunnel/DNS to enable gcp-jira-lv01 to connect to
     <a href="http://mailgw.schrodinger.com">
      mailgw.schrodinger.com
     </a>
     in PDX was also down.  Setting up a new tunnel via PDX enabled the communication temporarily, and eventually the NYC ISP issue was resolved.
    </span>
   </p>
   <h3>
    Introduced Issues
   </h3>
   <p>
    <ac:placeholder>
     Edit the macro below to replace the issue ID in the JQL query
    </ac:placeholder>
   </p>
   <p>
    <ac:structured-macro ac:macro-id="6a42c9d4-c365-48f3-a88a-fe522edda2b4" ac:name="jira" ac:schema-version="1">
     <ac:parameter ac:name="server">
      System JIRA
     </ac:parameter>
     <ac:parameter ac:name="columnIds">
      issuekey,priority,status,summary,created,updated,reporter,customfield_11008
     </ac:parameter>
     <ac:parameter ac:name="columns">
      key,priority,status,summary,created,updated,reporter,Sprint
     </ac:parameter>
     <ac:parameter ac:name="maximumIssues">
      20
     </ac:parameter>
     <ac:parameter ac:name="jqlQuery">
      issue in linkedIssues(ITDW-616, "introduced")
     </ac:parameter>
     <ac:parameter ac:name="serverId">
      ac6def98-2140-30c3-8103-4b52b8b31135
     </ac:parameter>
    </ac:structured-macro>
   </p>
   <h2>
    Detection
   </h2>
   <hr/>
   <h3>
    How quickly was the problem detected?
   </h3>
   <p>
    13/Sep/22 7:47 AM - Based on
    <a href="https://schrodinger.atlassian.net/secure/attachment/671822/Network%20Event%20Formal%20RFO%20-%20Newark%2C%20NJ%2024885811%20-%2013%20September%202022.pdf">
     the RFO
    </a>
    from
    <ac:structured-macro ac:macro-id="2b6fa29e-cc3b-49f2-807e-86b43a052a31" ac:name="jira" ac:schema-version="1">
     <ac:parameter ac:name="server">
      System JIRA
     </ac:parameter>
     <ac:parameter ac:name="serverId">
      ac6def98-2140-30c3-8103-4b52b8b31135
     </ac:parameter>
     <ac:parameter ac:name="key">
      ITINFRA-578
     </ac:parameter>
    </ac:structured-macro>
    , the NYC ISP had an issue September 13, 2022, 11:47GMT / September 13, 2022, 7:47am Eastern Daylight Time.
   </p>
   <p>
    <span style="color: rgb(23,43,77);">
     13/Sep/22 12:07 PM -
     <ac:structured-macro ac:macro-id="088666d1-2538-4c1a-9673-f051ce84aa64" ac:name="jira" ac:schema-version="1">
      <ac:parameter ac:name="server">
       System JIRA
      </ac:parameter>
      <ac:parameter ac:name="serverId">
       ac6def98-2140-30c3-8103-4b52b8b31135
      </ac:parameter>
      <ac:parameter ac:name="key">
       ITDW-616
      </ac:parameter>
     </ac:structured-macro>
     was created based on the user report.
    </span>
   </p>
   <h3>
    How was the problem detected?
   </h3>
   <p>
    User reports
   </p>
   <h3>
    How can detection be improved?
   </h3>
   <p>
    Perhaps an automated method to confirm email is flowing to and from Jira, rather than wait for users to notice a problem.
   </p>
   <h2>
    Response
   </h2>
   <hr/>
   <h3>
    How quickly did we respond once detected?
   </h3>
   <p>
    From what I recall, we followed up on both the underlying NYC ISP and this issue relatively quickly, but in this case, it took some time before it was discovered this problem was actually related to the NYC ISP outage.
   </p>
   <h3>
    Did we adequately communicate to our users?
   </h3>
   <p>
    We communicated in the ticket and via the hotline.
   </p>
   <h3>
    If not, how can this be improved?
   </h3>
   <p>
    <ac:placeholder>
     Describe here any ways we can or should make our communication better.
    </ac:placeholder>
   </p>
   <h2>
    Mitigation
   </h2>
   <hr/>
   <h3>
    What went well that helped minimize the impact of this problem?
   </h3>
   <p>
    <ac:placeholder>
     Describe all of the fortunate circumstances that made this incident better than it could have been. Include IT actions as well as just elements of dumb-luck.
    </ac:placeholder>
   </p>
   <h3>
    What can be done to minimize the impact if a problem like this recurs?
   </h3>
   <p>
    Having more than one tunnel available for this traffic, which might already be the case?
    <ac:link>
     <ri:user ri:userkey="557058:c19c6239-8657-4845-b158-eec62442daf4">
     </ri:user>
    </ac:link>
    could you please comment here?
   </p>
   <h2>
    Avoidance
   </h2>
   <hr/>
   <h3>
    What can we do in the future to avoid a problem like this?
   </h3>
   <p>
    An automated method to check on the health of email flow to/from Jira.  See
    <ac:structured-macro ac:macro-id="bc1e7c69-9d55-4622-9d8c-1d8368fa7417" ac:name="jira" ac:schema-version="1">
     <ac:parameter ac:name="server">
      System JIRA
     </ac:parameter>
     <ac:parameter ac:name="serverId">
      ac6def98-2140-30c3-8103-4b52b8b31135
     </ac:parameter>
     <ac:parameter ac:name="key">
      ITDW-999
     </ac:parameter>
    </ac:structured-macro>
   </p>
   <h2>
    Next Actions
   </h2>
   <hr/>
   <p>
    <ac:placeholder>
     After analyzing and talking about this incident what actions did the reviewers and management decide should be done to address shortfalls in detection, mitigation or avoidance. Use tasks, assignments and due dates or link to created jira tickets.
    </ac:placeholder>
   </p>
   <ac:task-list>
    <ac:task>
     <ac:task-id>
      1
     </ac:task-id>
     <ac:task-status>
      incomplete
     </ac:task-status>
     <ac:task-body>
      <span class="placeholder-inline-tasks">
       <ac:structured-macro ac:macro-id="3cae1ead-d1ae-41a5-bb00-bd71c4803e12" ac:name="jira" ac:schema-version="1">
        <ac:parameter ac:name="server">
         System JIRA
        </ac:parameter>
        <ac:parameter ac:name="serverId">
         ac6def98-2140-30c3-8103-4b52b8b31135
        </ac:parameter>
        <ac:parameter ac:name="key">
         ITDW-999
        </ac:parameter>
       </ac:structured-macro>
      </span>
     </ac:task-body>
    </ac:task>
    <ac:task>
     <ac:task-id>
      3
     </ac:task-id>
     <ac:task-status>
      complete
     </ac:task-status>
     <ac:task-body>
      <ac:structured-macro ac:macro-id="7d68c181-b215-4217-9a7d-3df00509c040" ac:name="jira" ac:schema-version="1">
       <ac:parameter ac:name="server">
        System JIRA
       </ac:parameter>
       <ac:parameter ac:name="serverId">
        ac6def98-2140-30c3-8103-4b52b8b31135
       </ac:parameter>
       <ac:parameter ac:name="key">
        ITINFRA-1083
       </ac:parameter>
      </ac:structured-macro>
      Has this been flipped back to the original route?
     </ac:task-body>
    </ac:task>
   </ac:task-list>
   <h2>
    Related articles
   </h2>
   <hr/>
   <p>
    <ac:placeholder>
     Related articles appear here based on the labels you select. Click to edit the macro and add or change labels.
    </ac:placeholder>
   </p>
   <p>
    <ac:structured-macro ac:macro-id="ffeb327a-3070-4405-823e-4605184c1568" ac:name="contentbylabel" ac:schema-version="4">
     <ac:parameter ac:name="showLabels">
      false
     </ac:parameter>
     <ac:parameter ac:name="max">
      5
     </ac:parameter>
     <ac:parameter ac:name="spaces">
      SYSMGR
     </ac:parameter>
     <ac:parameter ac:name="showSpace">
      false
     </ac:parameter>
     <ac:parameter ac:name="sort">
      modified
     </ac:parameter>
     <ac:parameter ac:name="reverse">
      true
     </ac:parameter>
     <ac:parameter ac:name="type">
      page
     </ac:parameter>
     <ac:parameter ac:name="cql">
      label = "kb-how-to-article" and type = "page" and space = "SYSMGR"
     </ac:parameter>
     <ac:parameter ac:name="labels">
      kb-how-to-article
     </ac:parameter>
    </ac:structured-macro>
   </p>
   <ac:structured-macro ac:macro-id="b77901a8-fc07-43f9-b345-36673b35c2e9" ac:name="details" ac:schema-version="1">
    <ac:parameter ac:name="hidden">
     true
    </ac:parameter>
    <ac:rich-text-body>
     <p class="auto-cursor-target">
      <br/>
     </p>
     <table class="wrapped">
      <colgroup>
       <col/>
       <col/>
      </colgroup>
      <tbody>
       <tr>
        <th>
         Related issues
        </th>
        <td>
         <br/>
        </td>
       </tr>
      </tbody>
     </table>
     <p class="auto-cursor-target">
      <br/>
     </p>
    </ac:rich-text-body>
   </ac:structured-macro>
   <p class="auto-cursor-target">
    <br/>
   </p>
  </ac:layout-cell>
 </ac:layout-section>
</ac:layout>
