<ac:layout>
 <ac:layout-section ac:type="single">
  <ac:layout-cell>
   <p>
    <ac:placeholder>
     Add labels to this report to make it easy to find outages that relate to the service or the sites that were affected. That will help us find and report on relevant related issues.
    </ac:placeholder>
   </p>
   <ac:structured-macro ac:macro-id="6041cfab-a8b7-40c8-aa32-0229b207b0df" ac:name="excerpt" ac:schema-version="1">
    <ac:parameter ac:name="atlassian-macro-output-type">
     INLINE
    </ac:parameter>
    <ac:rich-text-body>
     <p>
      SIR for
      <ac:placeholder>
       &lt;affected system or service&gt;
      </ac:placeholder>
      on
      <ac:placeholder>
       &lt;date the outage occurred&gt;
      </ac:placeholder>
     </p>
    </ac:rich-text-body>
   </ac:structured-macro>
   <p class="auto-cursor-target">
    <br/>
   </p>
  </ac:layout-cell>
 </ac:layout-section>
 <ac:layout-section ac:type="two_equal">
  <ac:layout-cell>
   <p class="auto-cursor-target">
    <br/>
   </p>
   <ac:structured-macro ac:macro-id="b2a57857-7f56-44d2-a0d4-91b3d7ebfcbf" ac:name="toc-zone" ac:schema-version="1">
    <ac:rich-text-body>
     <p>
      <ac:structured-macro ac:macro-id="58b18781-a929-4005-a5e0-2ef23adca3fe" ac:name="toc" ac:schema-version="1">
      </ac:structured-macro>
     </p>
    </ac:rich-text-body>
   </ac:structured-macro>
   <p class="auto-cursor-target">
    <br/>
   </p>
  </ac:layout-cell>
  <ac:layout-cell>
   <p class="auto-cursor-target">
    <br/>
   </p>
   <ac:structured-macro ac:macro-id="0db3d9b8-3a8d-4ad4-ae26-0a4ea4bc95c2" ac:name="details" ac:schema-version="1">
    <ac:parameter ac:name="id">
     SIR-metadata
    </ac:parameter>
    <ac:rich-text-body>
     <p class="auto-cursor-target">
      <br/>
     </p>
     <table class="wrapped" style="letter-spacing: 0.0px;">
      <colgroup>
       <col/>
       <col/>
      </colgroup>
      <tbody>
       <tr>
        <th colspan="1">
         System/Service
        </th>
        <td colspan="1">
         <div class="content-wrapper">
          <p>
           <br/>
          </p>
         </div>
        </td>
       </tr>
       <tr>
        <th>
         Ticket(s)
        </th>
        <td>
         <div class="content-wrapper">
          <p>
           <ac:structured-macro ac:macro-id="30dc904b-9d85-411a-95ed-a67e2fe2c8ed" ac:name="jira" ac:schema-version="1">
            <ac:parameter ac:name="server">
             System JIRA
            </ac:parameter>
            <ac:parameter ac:name="columnIds">
             issuekey,summary,issuetype,created,updated,duedate,assignee,reporter,priority,status,resolution
            </ac:parameter>
            <ac:parameter ac:name="columns">
             key,summary,type,created,updated,due,assignee,reporter,priority,status,resolution
            </ac:parameter>
            <ac:parameter ac:name="serverId">
             ac6def98-2140-30c3-8103-4b52b8b31135
            </ac:parameter>
            <ac:parameter ac:name="key">
             ITINFRA-2468
            </ac:parameter>
           </ac:structured-macro>
          </p>
         </div>
        </td>
       </tr>
       <tr>
        <th colspan="1">
         Outage scope
        </th>
        <td colspan="1">
         <br/>
        </td>
       </tr>
       <tr>
        <th>
         Outage date
        </th>
        <td>
         <div class="content-wrapper">
          <p>
           <time datetime="2023-12-23">
           </time>
          </p>
         </div>
        </td>
       </tr>
       <tr>
        <th>
         Report date
        </th>
        <td>
         <div class="content-wrapper">
          <p>
           <time datetime="2024-01-10">
           </time>
          </p>
         </div>
        </td>
       </tr>
       <tr>
        <th colspan="1">
         Report filed by
        </th>
        <td colspan="1">
         <ac:link>
          <ri:user ri:userkey="712020:77ac752e-b932-495a-99ab-f8848d8ba5eb">
          </ri:user>
         </ac:link>
        </td>
       </tr>
       <tr>
        <th colspan="1">
         Report reviewed date
        </th>
        <td colspan="1">
         <ac:placeholder>
          Use // for date macro for the date the report was reviewed with the team or relevant stakeholders
         </ac:placeholder>
        </td>
       </tr>
       <tr>
        <th colspan="1">
         Reviewed by
        </th>
        <td colspan="1">
         <ac:placeholder>
          List of people who had a part in reviewing or commenting on the report
         </ac:placeholder>
        </td>
       </tr>
      </tbody>
     </table>
     <p class="auto-cursor-target">
      <br/>
     </p>
    </ac:rich-text-body>
   </ac:structured-macro>
   <p class="auto-cursor-target">
    <br/>
   </p>
  </ac:layout-cell>
 </ac:layout-section>
 <ac:layout-section ac:type="single">
  <ac:layout-cell>
   <h2>
    Executive summary
   </h2>
   <p>
    The problem occurred when the switch rebooted twice due to a "watchdog timeout." Essentially, the switch software crashed.
   </p>
   <p>
    More explanations for why this occurs in the switches are explained in this "
    <a href="https://www.cisco.com/c/en/us/support/docs/ios-nx-os-software/ios-software-releases-122-mainline/7956-crashes-watchdog-timeout.html#:~:text=The%20CPU%20periodically%20resets%20a,to%20escape%20from%20this%20process">
     https://www.cisco.com/c/en/us/support/docs/ios-nx-os-software/ios-software-releases-122-mainline/7956-crashes-watchdog-timeout.html#:~:text=The%20CPU%20periodically%20resets%20a,to%20escape%20from%20this%20process
    </a>
    ."
   </p>
   <p>
    <span style="font-size: 20.0px;letter-spacing: -0.008em;">
     Background
    </span>
   </p>
   <hr/>
   <p>
    <time datetime="2023-12-23">
    </time>
   </p>
   <p>
    <br/>
   </p>
   <p>
    <ac:link>
     <ri:user ri:userkey="712020:8bb77617-132e-4a8e-99f8-29295efeb8fe">
     </ri:user>
    </ac:link>
    <span>
     was notified by Pagerduty that multiple devices in the TYO are offline. The same is updated in the IT-SOS chat.
    </span>
   </p>
   <p>
    <br/>
   </p>
   <p>
    <ac:link>
     <ri:user ri:userkey="712020:71b2d823-3ea6-4303-ba75-6ea7f7537779">
     </ri:user>
    </ac:link>
    attended the chat, conducted the initial checks, and identified that tyo-core-sw-01 got rebooted with the reason "watchdog timeout." Raised a support ticket with the Ruckus "
    <span>
     01611804" and kept monitoring.
    </span>
   </p>
   <p>
    <br/>
   </p>
   <p>
    Later, it is identified that devices are not online on the site and are showing down in the librenms monitoring.
    <ac:link>
     <ri:user ri:userkey="712020:77ac752e-b932-495a-99ab-f8848d8ba5eb">
     </ri:user>
    </ac:link>
    checked on the devices and identified the issue with the uplink form tyo-core-sw-01 ↔ tyo-fw, which is kept in BLOCKED state by the LACP, and this is expected behaviour  by the existing design in TYO.
   </p>
   <p>
    <br/>
   </p>
   <p>
    <br/>
   </p>
   <p>
    <time datetime="2023-12-26">
    </time>
   </p>
   <p>
    <br/>
   </p>
   <p>
    <ac:link>
     <ri:user ri:userkey="712020:225db79a-c551-406c-a719-8956dfc9b129">
     </ri:user>
    </ac:link>
    <ac:link>
     <ri:user ri:userkey="5d6599f201119d0dad5e3c15">
     </ri:user>
    </ac:link>
    was notified by pagerduty that multiple devices in the TYO are offline. The same is updated in the IT-SOS chat.
   </p>
   <p>
    <br/>
   </p>
   <p>
    <ac:link>
     <ri:user ri:userkey="712020:77ac752e-b932-495a-99ab-f8848d8ba5eb">
     </ri:user>
    </ac:link>
    attended the chat and identified that the issue with the tyo-core-sw-01 is repeated; the switch got rebooted again with the "watchdog timeout." Since it is not feasible to run the site on the same switch, it was decided to isolate the switch from the network.
   </p>
   <p>
    <br/>
   </p>
   <p>
    <ac:link>
     <ri:user ri:userkey="712020:77ac752e-b932-495a-99ab-f8848d8ba5eb">
     </ri:user>
    </ac:link>
    <span style="letter-spacing: 0.0px;">
     implemented measures to segregate the switch from the network. This involved deactivating all MCT client interfaces and redirecting the traffic to tyo-core-sw-02, utilising the fundamental MCT feature for failover. Detailed instructions for this procedure can be found in the Ruckus documentation at "
    </span>
    <a href="https://docs.ruckuswireless.com/fastiron/08.0.60/fastiron-08060-l2guide/GUID-46940B15-95BA-45D4-BC2C-E632DA6A40A8.html" style="text-decoration: none;letter-spacing: 0.0px;">
     https://docs.ruckuswireless.com/fastiron/08.0.60/fastiron-08060-l2guide/GUID-46940B15-95BA-45D4-BC2C-E632DA6A40A8.html
    </a>
    <span style="letter-spacing: 0.0px;">
     ." It appears to be switches in the split brain condition, and the failover of the traffic is not achieved, so turned back, activating the MCT client interfaces back.
    </span>
   </p>
   <p>
    <br/>
   </p>
   <p>
    <ac:link>
     <ri:user ri:userkey="712020:77ac752e-b932-495a-99ab-f8848d8ba5eb">
     </ri:user>
    </ac:link>
    decided to disconnect tyo-core-sw-01 with remote support. In a collaborative call,
    <ac:link>
     <ri:user ri:userkey="712020:77ac752e-b932-495a-99ab-f8848d8ba5eb">
     </ri:user>
    </ac:link>
    and
    <ac:link>
     <ri:user ri:userkey="557058:c19c6239-8657-4845-b158-eec62442daf4">
     </ri:user>
    </ac:link>
    guided the Tokyo team through the shutdown process of tyo-core-sw-01.
   </p>
   <p>
    During the shutdown, a test was conducted by taking tyo-core-sw-02 offline. It was observed that no MAC addresses were learning on tyo-core-sw-01, indicating a potential issue with the switch. Subsequently, tyo-core-sw-01 was shut down to facilitate the restoration of the site via tyo-core-sw-02.
   </p>
   <p>
    <br/>
   </p>
   <p>
    <br/>
   </p>
   <p>
    The RMA of the switch is raised with the ruckus to  replace the switch.
    <time datetime="2024-01-04">
    </time>
   </p>
   <p>
    <br/>
   </p>
   <p>
    <br/>
   </p>
   <p>
    <br/>
   </p>
   <p>
    <span style="font-size: 20.0px;letter-spacing: -0.008em;">
     Incident Description
    </span>
   </p>
   <hr/>
   <p>
    <ac:placeholder>
     Describe the incident in as much (or little) detail as seems appropriate leaving the chronology, corrective action and analysis for their subsequent sub-section(s)
    </ac:placeholder>
   </p>
   <h3>
    Chronology
   </h3>
   <p>
    <ac:placeholder>
     List any relevant times and dates here that help explain how things unfolded. A table or bulleted list may be useful here
    </ac:placeholder>
   </p>
   <ul>
    <li>
     <time datetime="2023-12-24">
     </time>
     2:23 p.m UTC: Switch got rebooted initially
    </li>
    <li>
     <time datetime="2024-01-24">
     </time>
     11:30 p.m. UTC: The site has been completely restored.
    </li>
    <li>
     <time datetime="2024-01-26">
     </time>
     <span style="letter-spacing: 0.0px;">
      <span>
       9:30 p.m. UTC:
      </span>
     </span>
     <span style="letter-spacing: 0.0px;">
      On the second instance, the switch rebooted.
     </span>
    </li>
    <li>
     <time datetime="2023-12-26">
     </time>
     12:30 pm UTC: tyo-core-01 is down and restored via tyo-core-02
    </li>
   </ul>
   <h3>
    Corrective Action
   </h3>
   <ul>
    <li>
     Replacement of the switch this is tracked in
     <ac:structured-macro ac:macro-id="9942d671-5396-4dc5-ac83-4a710d7bd9c4" ac:name="jira" ac:schema-version="1">
      <ac:parameter ac:name="server">
       System JIRA
      </ac:parameter>
      <ac:parameter ac:name="serverId">
       ac6def98-2140-30c3-8103-4b52b8b31135
      </ac:parameter>
      <ac:parameter ac:name="key">
       ITINFRA-2507
      </ac:parameter>
     </ac:structured-macro>
     (Replacement  is successfully completed )
    </li>
    <li>
     Need to change the architecture of the MCT cluster between the core to have the  effective failover between the cores
     <ac:structured-macro ac:macro-id="8ea3813c-8134-4ffd-89b9-8ebc250fd28e" ac:name="jira" ac:schema-version="1">
      <ac:parameter ac:name="server">
       System JIRA
      </ac:parameter>
      <ac:parameter ac:name="serverId">
       ac6def98-2140-30c3-8103-4b52b8b31135
      </ac:parameter>
      <ac:parameter ac:name="key">
       ITINFRA-2508
      </ac:parameter>
     </ac:structured-macro>
     ( Redesign is completed successfully )
    </li>
    <li>
     Need to get the contact details for the Japan
     <ac:structured-macro ac:macro-id="20781837-2712-41dc-89db-d83020432439" ac:name="jira" ac:schema-version="1">
      <ac:parameter ac:name="server">
       System JIRA
      </ac:parameter>
      <ac:parameter ac:name="serverId">
       ac6def98-2140-30c3-8103-4b52b8b31135
      </ac:parameter>
      <ac:parameter ac:name="key">
       ITINFRA-2474
      </ac:parameter>
     </ac:structured-macro>
     ( Need Sort down the RMA process with the vendor in TYO,KOR )
    </li>
   </ul>
   <p>
    <br/>
   </p>
   <p>
    <br/>
   </p>
   <h3>
    Analysis
   </h3>
   <p>
    <ac:placeholder>
     Describe any findings (other than this report itself)
    </ac:placeholder>
   </p>
   <h3>
    Introduced Issues
   </h3>
   <p>
    <ac:placeholder>
     Edit the macro below to replace the issue ID in the JQL query
    </ac:placeholder>
   </p>
   <p>
    <ac:structured-macro ac:macro-id="1dcb527e-6cb6-45a4-a4a1-55cf9b51022f" ac:name="jira" ac:schema-version="1">
     <ac:parameter ac:name="server">
      System JIRA
     </ac:parameter>
     <ac:parameter ac:name="columnIds">
      issuekey,priority,status,summary,created,updated,reporter,customfield_11008
     </ac:parameter>
     <ac:parameter ac:name="columns">
      key,priority,status,summary,created,updated,reporter,Sprint
     </ac:parameter>
     <ac:parameter ac:name="maximumIssues">
      20
     </ac:parameter>
     <ac:parameter ac:name="jqlQuery">
      issue in linkedIssues(ITDW-123, "introduced")
     </ac:parameter>
     <ac:parameter ac:name="serverId">
      ac6def98-2140-30c3-8103-4b52b8b31135
     </ac:parameter>
    </ac:structured-macro>
   </p>
   <h2>
    Detection
   </h2>
   <hr/>
   <h3>
    How quickly was the problem detected?
   </h3>
   <p>
    The problem was detected immediately.
   </p>
   <h3>
    How was the problem detected?
   </h3>
   <p>
    By LibreNMS, and it notified  through pagerduty
   </p>
   <h3>
    How can detection be improved?
   </h3>
   <p>
    Detection was sufficient in this case.
   </p>
   <h2>
    Response
   </h2>
   <hr/>
   <h3>
    How quickly did we respond once detected?
   </h3>
   <p>
    We responded immediately.
   </p>
   <h3>
    Did we adequately communicate with our users?
   </h3>
   <p>
    <span style="color: rgb(51,51,51);">
     <span style="background-color: rgb(245,245,245);">
      <em>
       Since this is the holiday week, no users are impacted. Later, it is communicated to the endusers also by
       <ac:link>
        <ri:user ri:userkey="557058:690c95ee-ecf5-4e81-8852-80a7dd2d8b44">
        </ri:user>
       </ac:link>
      </em>
     </span>
    </span>
   </p>
   <h3>
    If not, how can this be improved?
   </h3>
   <p>
    <br/>
   </p>
   <p>
    <br/>
   </p>
   <h2>
    Mitigation
   </h2>
   <hr/>
   <h3>
    What went well that helped minimize the impact of this problem?
   </h3>
   <p>
    <span style="color: rgb(51,51,51);">
     <span style="background-color: rgb(245,245,245);">
      <em>
       The impact is less because we have another core and traffic is routed to it to establish connectivity.
      </em>
     </span>
    </span>
   </p>
   <h3>
    What can be done to minimize the impact if a problem like this recurs?
   </h3>
   <p>
    <span style="color: rgb(51,51,51);">
     <span style="background-color: rgb(245,245,245);">
      <em>
       To minimize the impact or to get the site failover done without any impact is to make the site redundant on both layer 3 and layer 2 connectivity.
      </em>
     </span>
    </span>
   </p>
   <h2>
    Avoidance
   </h2>
   <hr/>
   <h3>
    What can we do in the future to avoid a problem like this?
   </h3>
   <p>
    <span style="color: rgb(51,51,51);">
     <span style="background-color: rgb(245,245,245);">
      <em>
       This is a potential hardware issue so we cannot avoid this situation if device breaks
      </em>
     </span>
    </span>
   </p>
   <h2>
    Next Actions
   </h2>
   <hr/>
   <p>
    <ac:placeholder>
     After analyzing and talking about this incident, what actions did the reviewers and management decide should be taken to address shortfalls in detection, mitigation, or avoidance? Use tasks, assignments, and due dates or a link to create Jira tickets.
    </ac:placeholder>
   </p>
   <ac:task-list>
    <ac:task>
     <ac:task-id>
      1
     </ac:task-id>
     <ac:task-status>
      incomplete
     </ac:task-status>
     <ac:task-body>
      <span class="placeholder-inline-tasks">
       Type your task here, using "@" to assign to a user and "//" to select a due date
      </span>
     </ac:task-body>
    </ac:task>
   </ac:task-list>
   <h2>
    Related articles
   </h2>
   <hr/>
   <p>
    <ac:placeholder>
     Related articles appear here based on the labels you select. Click to edit the macro and add or change labels.
    </ac:placeholder>
   </p>
   <p>
    <ac:structured-macro ac:macro-id="ffeb327a-3070-4405-823e-4605184c1568" ac:name="contentbylabel" ac:schema-version="4">
     <ac:parameter ac:name="showLabels">
      false
     </ac:parameter>
     <ac:parameter ac:name="max">
      5
     </ac:parameter>
     <ac:parameter ac:name="spaces">
      SYSMGR
     </ac:parameter>
     <ac:parameter ac:name="showSpace">
      false
     </ac:parameter>
     <ac:parameter ac:name="sort">
      modified
     </ac:parameter>
     <ac:parameter ac:name="reverse">
      true
     </ac:parameter>
     <ac:parameter ac:name="type">
      page
     </ac:parameter>
     <ac:parameter ac:name="cql">
      label = "kb-how-to-article" and type = "page" and space = "SYSMGR"
     </ac:parameter>
     <ac:parameter ac:name="labels">
      kb-how-to-article
     </ac:parameter>
    </ac:structured-macro>
   </p>
   <ac:structured-macro ac:macro-id="b77901a8-fc07-43f9-b345-36673b35c2e9" ac:name="details" ac:schema-version="1">
    <ac:parameter ac:name="hidden">
     true
    </ac:parameter>
    <ac:rich-text-body>
     <p class="auto-cursor-target">
      <br/>
     </p>
     <table class="wrapped">
      <colgroup>
       <col/>
       <col/>
      </colgroup>
      <tbody>
       <tr>
        <th>
         Related issues
        </th>
        <td>
         <br/>
        </td>
       </tr>
      </tbody>
     </table>
     <p class="auto-cursor-target">
      <br/>
     </p>
    </ac:rich-text-body>
   </ac:structured-macro>
   <p class="auto-cursor-target">
    <br/>
   </p>
  </ac:layout-cell>
 </ac:layout-section>
</ac:layout>
