<ac:layout>
 <ac:layout-section ac:type="single">
  <ac:layout-cell>
   <p>
    pdx-stor-q01 snapshots
   </p>
   <ac:structured-macro ac:macro-id="6041cfab-a8b7-40c8-aa32-0229b207b0df" ac:name="excerpt" ac:schema-version="1">
    <ac:parameter ac:name="atlassian-macro-output-type">
     INLINE
    </ac:parameter>
    <ac:rich-text-body>
     <p>
      SIR for pdx-stor-q01's disabled snapshots, which were first noticed on
      <time datetime="2023-11-13">
      </time>
     </p>
    </ac:rich-text-body>
   </ac:structured-macro>
   <p class="auto-cursor-target">
    <br/>
   </p>
  </ac:layout-cell>
 </ac:layout-section>
 <ac:layout-section ac:type="two_equal">
  <ac:layout-cell>
   <p class="auto-cursor-target">
    <br/>
   </p>
   <ac:structured-macro ac:macro-id="b2a57857-7f56-44d2-a0d4-91b3d7ebfcbf" ac:name="toc-zone" ac:schema-version="1">
    <ac:rich-text-body>
     <p>
      <ac:structured-macro ac:macro-id="58b18781-a929-4005-a5e0-2ef23adca3fe" ac:name="toc" ac:schema-version="1">
      </ac:structured-macro>
     </p>
    </ac:rich-text-body>
   </ac:structured-macro>
   <p class="auto-cursor-target">
    <br/>
   </p>
  </ac:layout-cell>
  <ac:layout-cell>
   <p class="auto-cursor-target">
    <br/>
   </p>
   <ac:structured-macro ac:macro-id="0db3d9b8-3a8d-4ad4-ae26-0a4ea4bc95c2" ac:name="details" ac:schema-version="1">
    <ac:parameter ac:name="id">
     SIR-metadata
    </ac:parameter>
    <ac:rich-text-body>
     <p class="auto-cursor-target">
      <br/>
     </p>
     <table class="wrapped" style="letter-spacing: 0.0px;">
      <colgroup>
       <col/>
       <col/>
      </colgroup>
      <tbody>
       <tr>
        <th colspan="1">
         System/Service
        </th>
        <td colspan="1">
         <div class="content-wrapper">
          <p>
           snapshots
          </p>
         </div>
        </td>
       </tr>
       <tr>
        <th>
         Ticket(s)
        </th>
        <td>
         <div class="content-wrapper">
          <p>
           <ac:structured-macro ac:macro-id="641f67bc-7149-49c6-8b07-a10cce0e9112" ac:name="jira" ac:schema-version="1">
            <ac:parameter ac:name="server">
             System JIRA
            </ac:parameter>
            <ac:parameter ac:name="columnIds">
             issuekey,summary,issuetype,created,updated,duedate,assignee,reporter,priority,status,resolution
            </ac:parameter>
            <ac:parameter ac:name="columns">
             key,summary,type,created,updated,due,assignee,reporter,priority,status,resolution
            </ac:parameter>
            <ac:parameter ac:name="serverId">
             ac6def98-2140-30c3-8103-4b52b8b31135
            </ac:parameter>
            <ac:parameter ac:name="key">
             ITINFRA-2311
            </ac:parameter>
           </ac:structured-macro>
          </p>
         </div>
        </td>
       </tr>
       <tr>
        <th colspan="1">
         Outage scope
        </th>
        <td colspan="1">
         <div class="content-wrapper">
          <p>
           pdx-stor-q01 (PDX Qumulo)
          </p>
         </div>
        </td>
       </tr>
       <tr>
        <th>
         Outage date
        </th>
        <td>
         <div class="content-wrapper">
          <p>
           <time datetime="2023-03-24">
           </time>
           to
           <time datetime="2023-11-13">
           </time>
          </p>
         </div>
        </td>
       </tr>
       <tr>
        <th>
         Report date
        </th>
        <td>
         <div class="content-wrapper">
          <p>
           <time datetime="2023-11-30">
           </time>
          </p>
         </div>
        </td>
       </tr>
       <tr>
        <th colspan="1">
         Report filed by
        </th>
        <td colspan="1">
         <div class="content-wrapper">
          <p>
           <ac:link>
            <ri:user ri:userkey="712020:20683bcb-b5d6-4474-a40c-2a3ae5aaee4f">
            </ri:user>
           </ac:link>
          </p>
         </div>
        </td>
       </tr>
       <tr>
        <th colspan="1">
         Report reviewed date
        </th>
        <td colspan="1">
         <div class="content-wrapper">
          <p>
           <time datetime="2023-12-14">
           </time>
          </p>
         </div>
        </td>
       </tr>
       <tr>
        <th colspan="1">
         Reviewed by
        </th>
        <td colspan="1">
         <ac:placeholder>
          List of people who had a part in reviewing or commenting on the report
         </ac:placeholder>
        </td>
       </tr>
      </tbody>
     </table>
     <p class="auto-cursor-target">
      <br/>
     </p>
    </ac:rich-text-body>
   </ac:structured-macro>
   <p class="auto-cursor-target">
    <br/>
   </p>
  </ac:layout-cell>
 </ac:layout-section>
 <ac:layout-section ac:type="single">
  <ac:layout-cell>
   <h2>
    Executive summary
   </h2>
   <hr/>
   While
   <ac:link>
    <ri:user ri:userkey="5d405c8181cbd30da3475cdf">
    </ri:user>
   </ac:link>
   was attempting to help Melody Caron restore a file that was overwritten from a previous snapshot, it was noticed that all pdx-stor-q01 snapshot policies have been off, and they seem to have been off since March 24.
   <h2>
    <span>
     Background
    </span>
   </h2>
   <hr/>
   <p>
    pdx-stor-q01 is the main NAS in the PDXoffice and we have snapshots enabled.
   </p>
   <p>
    The snapshots on pdx-stor-q01 execute each hour and maintained for one week.
   </p>
   <p>
    But on 11/13/2023 ,
    <ac:link>
     <ri:user ri:userkey="5d405c8181cbd30da3475cdf">
     </ri:user>
    </ac:link>
    noticed they were not enabled.
   </p>
   <h2>
    Incident Description
   </h2>
   <hr/>
   <p>
    <ac:link>
     <ri:user ri:userkey="5d405c8181cbd30da3475cdf">
     </ri:user>
    </ac:link>
    noticed pdx-stor-q01 snapshots were disabled when he wanted to help restore a user's older version of a file.
   </p>
   <h3>
    Chronology
   </h3>
   <p>
    <time datetime="2023-03-24">
    </time>
    was the timestamp on the last snapshots before they were re-enabled on
    <time datetime="2023-11-13">
    </time>
   </p>
   <p>
    <time datetime="2023-11-13">
    </time>
    04:19PM EDT
    <ac:link>
     <ri:user ri:userkey="5d405c8181cbd30da3475cdf">
     </ri:user>
    </ac:link>
    notified
    <ac:link>
     <ri:user ri:userkey="712020:20683bcb-b5d6-4474-a40c-2a3ae5aaee4f">
     </ri:user>
    </ac:link>
    via gchat that the snapshots on pdx-stor-q01 are disable and asks if it's intentional
   </p>
   <p>
    <time datetime="2023-11-13">
    </time>
    04:27PM EDT
    <ac:link>
     <ri:user ri:userkey="5d405c8181cbd30da3475cdf">
     </ri:user>
    </ac:link>
    re-enabled the snapshots on pdx-stor-q01 after was it was determined to not be off intentionally
   </p>
   <p>
    <br/>
   </p>
   <h3>
    Corrective Action
   </h3>
   <p>
    Snapshots were turned back on once they were noticed to be off.
   </p>
   <h3>
    Analysis
   </h3>
   <p>
    I checked through some old tickets but wasn't able to find anything specific regarding why or who turn the snapshots off, or for what reason.
   </p>
   <p>
    There was a "
    <span>
     PDX Network maintenance window" on the IT Where calendar for the day of the last snapshot (03/24/2023), but nothing directly stating that local snapshots were disable or that anything on the Qumulo was touched.
     <br/>
    </span>
   </p>
   <p>
    <br/>
   </p>
   <h3>
    Introduced Issues
   </h3>
   <p>
    <ac:placeholder>
     Edit the macro below to replace the issue ID in the JQL query
    </ac:placeholder>
   </p>
   <p>
    <ac:structured-macro ac:macro-id="1dcb527e-6cb6-45a4-a4a1-55cf9b51022f" ac:name="jira" ac:schema-version="1">
     <ac:parameter ac:name="server">
      System JIRA
     </ac:parameter>
     <ac:parameter ac:name="columnIds">
      issuekey,priority,status,summary,created,updated,reporter,customfield_11008
     </ac:parameter>
     <ac:parameter ac:name="columns">
      key,priority,status,summary,created,updated,reporter,Sprint
     </ac:parameter>
     <ac:parameter ac:name="maximumIssues">
      20
     </ac:parameter>
     <ac:parameter ac:name="jqlQuery">
      issue in linkedIssues(ITDW-123, "introduced")
     </ac:parameter>
     <ac:parameter ac:name="serverId">
      ac6def98-2140-30c3-8103-4b52b8b31135
     </ac:parameter>
    </ac:structured-macro>
   </p>
   <h2>
    Detection
   </h2>
   <hr/>
   <h3>
    How quickly was the problem detected?
   </h3>
   <p>
    The snapshots seem to have been turned off for about 7 months
   </p>
   <h3>
    How was the problem detected?
   </h3>
   <p>
    <ac:link>
     <ri:user ri:userkey="5d405c8181cbd30da3475cdf">
     </ri:user>
    </ac:link>
    noticed the problem when he was looking to restore a user's file
   </p>
   <h3>
    How can detection be improved?
   </h3>
   <p>
    I like to create and follow a checklist of what I'm going to do and what items I need to "checkoff" to complete that task, such as with the Qumulo upgrades.
   </p>
   <p>
    Having a checklist of tasks in the work ticket makes it more difficult to forget to do/undo something, or will at least it records that something was being done at the time.
   </p>
   <p>
    <br/>
   </p>
   <h2>
    Response
   </h2>
   <hr/>
   <h3>
    How quickly did we respond once detected?
   </h3>
   <p>
    <ac:link>
     <ri:user ri:userkey="5d405c8181cbd30da3475cdf">
     </ri:user>
    </ac:link>
    turned the snapshots back on right after he noticed they were disabled
   </p>
   <h3>
    Did we adequately communicate to our users?
   </h3>
   <p>
    We notified the user that was asking for an older version of their work the day of noticing the snapshot wouldn't be available.
   </p>
   <h3>
    If not, how can this be improved?
   </h3>
   <p>
    This was most likely disable during a troubleshooting event or an update.
   </p>
   <p>
    We should always make sure to double check important setting when managing the Qumulo storage device (there's no SNMP option with qumulo devices) and always note in a ticket if you disable something.
   </p>
   <h2>
    Mitigation
   </h2>
   <hr/>
   <h3>
    What went well that helped minimize the impact of this problem?
   </h3>
   <p>
    Once the issue was identified, it was immediately corrected.
   </p>
   <h3>
    What can be done to minimize the impact if a problem like this recurs?
   </h3>
   <p>
    Use and follow the a checklist when troubleshooting or updating the Qumulo storage devices because they aren't being monitored via LibreNMS (no SNMP option)
   </p>
   <h2>
    Avoidance
   </h2>
   <hr/>
   <h3>
    What can we do in the future to avoid a problem like this?
   </h3>
   <p>
    As mentioned before, the Qumulo devices aren't being monitored via SNMP, so it's important that when we do any administrative work on them, we should note any changes in a Jira ticket to ensure we don't forget to do or undo something
   </p>
   <p>
    We should be able to setup a script that can check for snapshot on x mount ...
   </p>
   <h2>
    Next Actions
   </h2>
   <hr/>
   <p>
    <ac:placeholder>
     After analyzing and talking about this incident what actions did the reviewers and management decide should be done to address shortfalls in detection, mitigation or avoidance. Use tasks, assignments and due dates or link to created jira tickets.
    </ac:placeholder>
   </p>
   <ac:task-list>
    <ac:task>
     <ac:task-id>
      1
     </ac:task-id>
     <ac:task-status>
      incomplete
     </ac:task-status>
     <ac:task-body>
      <span class="placeholder-inline-tasks">
       Type your task here, using "@" to assign to a user and "//" to select a due date
      </span>
     </ac:task-body>
    </ac:task>
   </ac:task-list>
   <h2>
    Related articles
   </h2>
   <hr/>
   <p>
    <ac:placeholder>
     Related articles appear here based on the labels you select. Click to edit the macro and add or change labels.
    </ac:placeholder>
   </p>
   <p>
    <ac:structured-macro ac:macro-id="ffeb327a-3070-4405-823e-4605184c1568" ac:name="contentbylabel" ac:schema-version="4">
     <ac:parameter ac:name="showLabels">
      false
     </ac:parameter>
     <ac:parameter ac:name="max">
      5
     </ac:parameter>
     <ac:parameter ac:name="spaces">
      SYSMGR
     </ac:parameter>
     <ac:parameter ac:name="showSpace">
      false
     </ac:parameter>
     <ac:parameter ac:name="sort">
      modified
     </ac:parameter>
     <ac:parameter ac:name="reverse">
      true
     </ac:parameter>
     <ac:parameter ac:name="type">
      page
     </ac:parameter>
     <ac:parameter ac:name="cql">
      label = "kb-how-to-article" and type = "page" and space = "SYSMGR"
     </ac:parameter>
     <ac:parameter ac:name="labels">
      kb-how-to-article
     </ac:parameter>
    </ac:structured-macro>
   </p>
   <ac:structured-macro ac:macro-id="b77901a8-fc07-43f9-b345-36673b35c2e9" ac:name="details" ac:schema-version="1">
    <ac:parameter ac:name="hidden">
     true
    </ac:parameter>
    <ac:rich-text-body>
     <p class="auto-cursor-target">
      <br/>
     </p>
     <table class="wrapped">
      <colgroup>
       <col/>
       <col/>
      </colgroup>
      <tbody>
       <tr>
        <th>
         Related issues
        </th>
        <td>
         <br/>
        </td>
       </tr>
      </tbody>
     </table>
     <p class="auto-cursor-target">
      <br/>
     </p>
    </ac:rich-text-body>
   </ac:structured-macro>
   <p class="auto-cursor-target">
    <br/>
   </p>
  </ac:layout-cell>
 </ac:layout-section>
</ac:layout>
