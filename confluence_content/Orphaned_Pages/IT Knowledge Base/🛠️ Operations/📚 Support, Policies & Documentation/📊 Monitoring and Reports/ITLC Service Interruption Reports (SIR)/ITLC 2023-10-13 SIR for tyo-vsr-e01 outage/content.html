<ac:layout>
 <ac:layout-section ac:type="single">
  <ac:layout-cell>
   <p>
    <ac:placeholder>
     Add labels to this report to make it easy to find outages that relate to the service or the sites that were affected. That will help us find and report on relevant related issues.
    </ac:placeholder>
   </p>
   <ac:structured-macro ac:macro-id="6041cfab-a8b7-40c8-aa32-0229b207b0df" ac:name="excerpt" ac:schema-version="1">
    <ac:parameter ac:name="atlassian-macro-output-type">
     INLINE
    </ac:parameter>
    <ac:rich-text-body>
     <p>
      SIR for tyo-vsr-e01 on
      <time datetime="2023-10-13">
      </time>
     </p>
    </ac:rich-text-body>
   </ac:structured-macro>
   <p class="auto-cursor-target">
    <br/>
   </p>
  </ac:layout-cell>
 </ac:layout-section>
 <ac:layout-section ac:type="two_equal">
  <ac:layout-cell>
   <p class="auto-cursor-target">
    <br/>
   </p>
   <ac:structured-macro ac:macro-id="b2a57857-7f56-44d2-a0d4-91b3d7ebfcbf" ac:name="toc-zone" ac:schema-version="1">
    <ac:rich-text-body>
     <p>
      <ac:structured-macro ac:macro-id="58b18781-a929-4005-a5e0-2ef23adca3fe" ac:name="toc" ac:schema-version="1">
      </ac:structured-macro>
     </p>
    </ac:rich-text-body>
   </ac:structured-macro>
   <p class="auto-cursor-target">
    <br/>
   </p>
  </ac:layout-cell>
  <ac:layout-cell>
   <p class="auto-cursor-target">
    <br/>
   </p>
   <ac:structured-macro ac:macro-id="0db3d9b8-3a8d-4ad4-ae26-0a4ea4bc95c2" ac:name="details" ac:schema-version="1">
    <ac:parameter ac:name="id">
     SIR-metadata
    </ac:parameter>
    <ac:rich-text-body>
     <p class="auto-cursor-target">
      <br/>
     </p>
     <table class="wrapped" style="letter-spacing: 0.0px;">
      <colgroup>
       <col/>
       <col/>
      </colgroup>
      <tbody>
       <tr>
        <th colspan="1">
         System/Service
        </th>
        <td colspan="1">
         <div class="content-wrapper">
          <p>
           <ac:placeholder>
            Link to Service Page for affected service
           </ac:placeholder>
          </p>
         </div>
        </td>
       </tr>
       <tr>
        <th>
         Ticket(s)
        </th>
        <td>
         <div class="content-wrapper">
          <p>
           <ac:structured-macro ac:macro-id="5ae96dcc-e3c2-4b4b-9591-4c004be4add7" ac:name="jira" ac:schema-version="1">
            <ac:parameter ac:name="server">
             System JIRA
            </ac:parameter>
            <ac:parameter ac:name="serverId">
             ac6def98-2140-30c3-8103-4b52b8b31135
            </ac:parameter>
            <ac:parameter ac:name="key">
             ITINFRA-2148
            </ac:parameter>
           </ac:structured-macro>
          </p>
         </div>
        </td>
       </tr>
       <tr>
        <th colspan="1">
         Outage scope
        </th>
        <td colspan="1">
         tyo-vsr-e01, tyo-ad-wv02
        </td>
       </tr>
       <tr>
        <th>
         Outage date
        </th>
        <td>
         <div class="content-wrapper">
          <p>
           <time datetime="2023-10-13">
           </time>
          </p>
         </div>
        </td>
       </tr>
       <tr>
        <th>
         Report date
        </th>
        <td>
         <div class="content-wrapper">
          <p>
           <time datetime="2023-10-16">
           </time>
          </p>
         </div>
        </td>
       </tr>
       <tr>
        <th colspan="1">
         Report filed by
        </th>
        <td colspan="1">
         <div class="content-wrapper">
          <p>
           <ac:link>
            <ri:user ri:userkey="557058:037cebc0-7a1a-4a12-af72-7583a24ff5d6">
            </ri:user>
           </ac:link>
          </p>
         </div>
        </td>
       </tr>
       <tr>
        <th colspan="1">
         Report reviewed date
        </th>
        <td colspan="1">
         <div class="content-wrapper">
          <p>
           <time datetime="2023-10-19">
           </time>
          </p>
         </div>
        </td>
       </tr>
       <tr>
        <th colspan="1">
         Reviewed by
        </th>
        <td colspan="1">
         <div class="content-wrapper">
          <p>
           <br/>
          </p>
         </div>
        </td>
       </tr>
      </tbody>
     </table>
     <p class="auto-cursor-target">
      <br/>
     </p>
    </ac:rich-text-body>
   </ac:structured-macro>
   <p class="auto-cursor-target">
    <br/>
   </p>
  </ac:layout-cell>
 </ac:layout-section>
 <ac:layout-section ac:type="single">
  <ac:layout-cell>
   <h2>
    Executive summary
   </h2>
   <hr/>
   <p>
    While investigating LibreNMS notifications,
    <ac:link>
     <ri:user ri:userkey="557058:037cebc0-7a1a-4a12-af72-7583a24ff5d6">
     </ri:user>
    </ac:link>
    noticed that two systems in TYO were offline, just as
    <ac:link>
     <ri:user ri:userkey="712020:668ed8e3-9979-4f45-ba67-1748ea426e8c">
     </ri:user>
    </ac:link>
    was paged for the issue.
   </p>
   <p>
    Alex logged into the iDRAC interface, saw that the machine was powered off, and initiated a power on. The system booted as normal and automatically started tyo-ad-wv02, as expected.
   </p>
   <h2>
    <span>
     Background
    </span>
   </h2>
   <hr/>
   <p>
    It was almost 1:00am in Tokyo and no one was aware of planned operations or maintenance on this system that would explain why it had been powered off.
   </p>
   <p>
    Further investigation indicates that this may be a recurring problem that was not previously reported, from the LibreNMS "Recent Events"
   </p>
   <table class="wrapped">
    <tbody>
     <tr>
      <td style="text-align: left;">
       <span>
        2023-10-13 07:30:22
       </span>
      </td>
      <td style="text-align: left;">
       reboot
      </td>
      <td style="text-align: left;">
       <a class="list-device" href="https://librenms.schrodinger.com/device/88" style="text-decoration: none;">
        tyo-vsr-e01
       </a>
      </td>
      <td style="text-align: left;">
       Device rebooted after 46 days 23 hours 54 minutes 14 seconds -&gt; 184s
      </td>
     </tr>
    </tbody>
   </table>
   <h2>
    Incident Description
   </h2>
   <hr/>
   <p>
    <ac:placeholder>
     Describe the incident in as much (or little) detail as seems appropriate leaving the chronology, corrective action and analysis for their subsequent sub-section(s)
    </ac:placeholder>
   </p>
   <h3>
    Chronology
   </h3>
   <p>
    <span style="color: rgb(23,43,77);">
     Down at 2023-10-13 15:55:50 UTC
    </span>
    <br/>
    <span style="color: rgb(23,43,77);">
     Up at 2023-10-13 16:23:31 UTC
    </span>
   </p>
   <h3>
    Corrective Action
   </h3>
   <p>
    <ac:link>
     <ri:user ri:userkey="557058:037cebc0-7a1a-4a12-af72-7583a24ff5d6">
     </ri:user>
    </ac:link>
    logged into the iDRAC interface and started up the hypervisor.
   </p>
   <h3>
    Analysis
   </h3>
   <p>
    As noted in the ticket, and quoted below, the likely culprit was a power button that had become stuck in the down position for an unknown period and only now started causing issues.
   </p>
   <p>
    In attempting to diagnose and fix the issue, we found that this hypervisor was no longer covered by warranty and we are now in the process of replacing it with a newer model.
   </p>
   <p>
    <span style="color: rgb(23,43,77);">
     <em>
      "Okay, so I updated the bios and raid controller firmware. I re-seated the power supplies, and chose different PDU ports. I also ran the HW diagnostics and it only had some warnings that were in the logs from way back, no actual errors. I re-ran it and because those warnings were cleared out it passed all diagnostic checks. I went to push the physical power button on the machine, and as it turns out, it was jammed in the pressed-in position. I needed to pry with a small flathead screwdriver to get the button to return to normal. And, its still kind of gummy, like the spring of the button is lost. I dont know if its actually gunk or just damaged in some other way. But, now that it is in the correct default position, I am kind of betting that was the trouble. It must have gotten jostled when we did the new office move."
     </em>
     - Laven Voth
    </span>
   </p>
   <h3>
    Introduced Issues
   </h3>
   <p>
    <ac:placeholder>
     Edit the macro below to replace the issue ID in the JQL query
    </ac:placeholder>
   </p>
   <p>
    <ac:structured-macro ac:macro-id="ffa1422f-941c-46c5-809d-4b2fbe7e7ce9" ac:name="jira" ac:schema-version="1">
     <ac:parameter ac:name="server">
      System JIRA
     </ac:parameter>
     <ac:parameter ac:name="columnIds">
      issuekey,priority,status,summary,created,updated,reporter,customfield_11008
     </ac:parameter>
     <ac:parameter ac:name="columns">
      key,priority,status,summary,created,updated,reporter,Sprint
     </ac:parameter>
     <ac:parameter ac:name="maximumIssues">
      20
     </ac:parameter>
     <ac:parameter ac:name="jqlQuery">
      issue in linkedIssues(ITDW-123, "introduced")
     </ac:parameter>
     <ac:parameter ac:name="serverId">
      ac6def98-2140-30c3-8103-4b52b8b31135
     </ac:parameter>
    </ac:structured-macro>
   </p>
   <h2>
    Detection
   </h2>
   <hr/>
   <h3>
    How quickly was the problem detected?
   </h3>
   <p>
    The problem was detected immediately.
   </p>
   <h3>
    How was the problem detected?
   </h3>
   <p>
    By LibreNMS, and by luck of looking at LibreNMS while it happened.
   </p>
   <h3>
    How can detection be improved?
   </h3>
   <p>
    Detection was sufficient in this case.
   </p>
   <h2>
    Response
   </h2>
   <hr/>
   <h3>
    How quickly did we respond once detected?
   </h3>
   <p>
    We responded immediately.
   </p>
   <h3>
    Did we adequately communicate to our users?
   </h3>
   <p>
    As it was 1:00am in Tokyo, there were no affected users.
   </p>
   <h3>
    If not, how can this be improved?
   </h3>
   <p>
    <ac:placeholder>
     Describe here any ways we can or should make our communication better.
    </ac:placeholder>
   </p>
   <h2>
    Mitigation
   </h2>
   <hr/>
   <h3>
    What went well that helped minimize the impact of this problem?
   </h3>
   <p>
    The impact was minimized by the fact that it was noticed during working hours in the US, and we were able to resolve it before working hours in Tokyo.
   </p>
   <p>
    If needed, we could have moved DHCP and DNS services to the firewall in this office, but that would not have addressed other dependencies on tyo-ad-wv01.
   </p>
   <h3>
    What can be done to minimize the impact if a problem like this recurs?
   </h3>
   <p>
    We should consider having more than one hypervisor, especially in offices with shared storage, and we are considering and pursuing options that would reduce our reliance on domain controllers in each office.
   </p>
   <h2>
    Avoidance
   </h2>
   <hr/>
   <h3>
    What can we do in the future to avoid a problem like this?
   </h3>
   <p>
    Hardware failures happen, especially on systems that have been running for many years. Proactively replacing aging hardware should be a priority.
   </p>
   <h2>
    Next Actions
   </h2>
   <hr/>
   <p>
    <ac:placeholder>
     After analyzing and talking about this incident what actions did the reviewers and management decide should be done to address shortfalls in detection, mitigation or avoidance. Use tasks, assignments and due dates or link to created jira tickets.
    </ac:placeholder>
   </p>
   <ac:task-list>
    <ac:task>
     <ac:task-id>
      1
     </ac:task-id>
     <ac:task-status>
      incomplete
     </ac:task-status>
     <ac:task-body>
      <span class="placeholder-inline-tasks">
       IT-Infra will work with
       <ac:link>
        <ri:user ri:userkey="557058:690c95ee-ecf5-4e81-8852-80a7dd2d8b44">
        </ri:user>
       </ac:link>
       to replace this hypervisor.
      </span>
     </ac:task-body>
    </ac:task>
   </ac:task-list>
   <h2>
    Related articles
   </h2>
   <hr/>
   <p>
    <ac:placeholder>
     Related articles appear here based on the labels you select. Click to edit the macro and add or change labels.
    </ac:placeholder>
   </p>
   <p>
    <ac:structured-macro ac:macro-id="ffeb327a-3070-4405-823e-4605184c1568" ac:name="contentbylabel" ac:schema-version="4">
     <ac:parameter ac:name="showLabels">
      false
     </ac:parameter>
     <ac:parameter ac:name="max">
      5
     </ac:parameter>
     <ac:parameter ac:name="spaces">
      SYSMGR
     </ac:parameter>
     <ac:parameter ac:name="showSpace">
      false
     </ac:parameter>
     <ac:parameter ac:name="sort">
      modified
     </ac:parameter>
     <ac:parameter ac:name="reverse">
      true
     </ac:parameter>
     <ac:parameter ac:name="type">
      page
     </ac:parameter>
     <ac:parameter ac:name="cql">
      label = "kb-how-to-article" and type = "page" and space = "SYSMGR"
     </ac:parameter>
     <ac:parameter ac:name="labels">
      kb-how-to-article
     </ac:parameter>
    </ac:structured-macro>
   </p>
   <ac:structured-macro ac:macro-id="b77901a8-fc07-43f9-b345-36673b35c2e9" ac:name="details" ac:schema-version="1">
    <ac:parameter ac:name="hidden">
     true
    </ac:parameter>
    <ac:rich-text-body>
     <p class="auto-cursor-target">
      <br/>
     </p>
     <table class="wrapped">
      <colgroup>
       <col/>
       <col/>
      </colgroup>
      <tbody>
       <tr>
        <th>
         Related issues
        </th>
        <td>
         <br/>
        </td>
       </tr>
      </tbody>
     </table>
     <p class="auto-cursor-target">
      <br/>
     </p>
    </ac:rich-text-body>
   </ac:structured-macro>
   <p class="auto-cursor-target">
    <br/>
   </p>
  </ac:layout-cell>
 </ac:layout-section>
</ac:layout>
